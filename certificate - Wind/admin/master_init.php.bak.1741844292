<?php
/**
 * Master Initialization File
 * This file includes all necessary files in the correct order
 */

// Define the root directory path
define("ROOT_PATH", dirname(__DIR__));

// Include config (which contains session settings) before starting session
require_once ROOT_PATH . "/config/constants.php";
require_once ROOT_PATH . "/config/config.php";

// Start session if not already started
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

// Include other core files
require_once ROOT_PATH . "/config/database.php";
require_once ROOT_PATH . "/includes/functions.php";
require_once ROOT_PATH . "/includes/security.php";

// Connect to database
try {
    $database = new Database();
    $db = $database->getConnection();
} catch (Exception $e) {
    // Handle database connection error gracefully
    die("Database connection error: " . $e->getMessage());
}
